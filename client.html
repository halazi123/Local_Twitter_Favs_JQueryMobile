<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>A3</title>
<link href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" rel="stylesheet" type="text/css">
<style type="text/css">
#profile div {
	text-align: center;
}
</style>
<script src="http://code.jquery.com/jquery-1.9.1.js" type="text/javascript"></script>

<script>
	// Get favorite json file
	$.getJSON('favs.json', function(data) {
		var i = 0;
		$.each(data, function(key, val) {
			//add tweet to tweet list
			$('#tweetlist').append(
					'<li id="tweet' + i +'"><a href="#tweet' + i +'">'
					+ data[i].user.name + 
					'<p><br>' + data[i].text + '</p></a>' + '</li>');

			//create each tweet page
			$('body').append(
					'<div data-role="page" id="tweet' + i + '">' +
					'<div data-role="header">' +
					'<h1>' + data[i].user.name + '</h1>' +
					'<h2>@' + data[i].user.screen_name + ' ' + 
					data[i].created_at +'</h2>' +
					'</div>' + //header closing div
					'<div data-role="content">' + data[i].text + '</div>' +
					'<div data-role="footer" data-position="fixed">' +
					'<h1>Footer</h4' + '</div>' +
					'</div>' //page closing div
					);
			
			i++;
		});
		
	});
</script>

<!-- Adding the 'back' button -->
<script>
	$(document).bind('mobileinit', function(){
		$.mobile.page.prototype.options.addBackBtn = 'true';
	});
</script>

<!-- Expand/collapse -->
<script>
	$(document).ready(function() {
	$('.toggle-content').hide();

	$('.toggle-control')
	 .addClass('clickable')
	 .bind('click', function() {
		var $control = $(this);
		var $parent = $control.parents('.toggle-unit');

		$parent.toggleClass('expanded');
		$parent.find('.toggle-content').slideToggle();

		// if control has HTML5 data attributes, use to update text
		if ($parent.hasClass('expanded')) {
			$control.html($control.attr('data-expanded-text'));
		} else {
			$control.html($control.attr('data-text'));
		}
	})
});
</script>

<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js" type="text/javascript"></script>

</head>

<body>

<!-- Main layout -->
<div data-role="page" id="mainPage">
  <div data-role="header" data-position="fixed">
    <h1>My Favorite Tweets</h1>
  </div>

  <div data-role="content">
  	<ul id="tweetlist" data-role="listview" data-inset="true" data-filter="true">
    	<li id="tweet01">
    		<a href="#tweet01" data-transition="slide">Tweet1
    		<img border="0" src="http://a0.twimg.com/profile_images/2823681988/f4f6f2bed8ab4d5a48dea4b9ea85d5f1_normal.jpeg">
    		</a>
    		</li>
       	<li>
       		<a href="#profile" data-rel="dialog" data-transition="pop" data-inline="true">Profile</a>
       		</li>
        <li id="tweet2">
        	<a href="#tweet01" data-transition="slide">Tweet2</a>
        	</li>
        <li id="car"><a href="#tweet01" data-transition="slide">Car	</a></li>
    </ul>
  </div>
  
  <!-- Expand/collapse -->
  <div class="toggle-unit">
	<h2 class="toggle-control">Click to reveal</h2>
		<div class="toggle-content">
			This is the revealed text.
		</div><!-- /.toggle-content -->
	</div><!-- /.toggle.unit -->
  
  <div data-role="footer" data-position="fixed">
    <h4>Footer</h4>
  </div>
  <ul data-role="listview" data-split-icon="star">
    <li><a href="#">Blah1</a><a href="#">Default</a></li>
    <li><a href="#">Blah2</a><a href="#">Default</a></li>
    <li><a href="#">Blah3</a><a href="#">Default</a></li>
  </ul>
  
  
  
</div>

<!-- Tweet -->
<div data-role="page" id="tweet01">
  <div data-role="header">
    <h1>Tim O'Reilly</h1> 
    <h2>@timoreilly Wed Mar 13</h2>
    
  </div>
  <div data-role="content">Was wondering why @billgates cc'd me on story abt @MSFTResearch cool viral search tool; discovered I'm featured in it http:\/\/t.co\/g6oSeEIEUr</div>
  <div data-role="footer" data-position="fixed">
    <h4>Footer</h4>
  </div>
</div>

<!-- Profile Page -->
<div data-role="page" id="profile">
  <div data-role="header">
    <h1>Profile summary</h1>
  </div>
  <div data-role="content" data-theme="a">
  	<img border="3" src="http://a0.twimg.com/profile_images/2823681988/f4f6f2bed8ab4d5a48dea4b9ea85d5f1_normal.jpeg">
  </div>
  <div data-role="content">Tim O'Reilly</div>
  <div data-role="content"><a href="https://twitter.com/timoreilly" target="_blank">@timoreilly</a></div>
  <div data-role="content">Founder and CEO, O'Reilly Media. Watching the alpha geeks, sharing their stories, helping the future unfold.</div>
  <div data-role="content">Sebastopol, CA - <a href="http://radar.oreilly.com" target="_blank">http://radar.oreilly.com</a></div>

  <div data-role="footer" data-theme="a" data-position="fixed">
  	<div data-role="navbar">
    <ul>
    	<li>Tweets: 6612?</li>
        <li>Following: 982</li>
        <li>Followers: 82249</li>
    </ul>
   </div>
  </div>
</div>





</body>
</html>
